(function(t){function e(e){for(var s,r,c=e[0],o=e[1],l=e[2],u=0,m=[];u<c.length;u++)r=c[u],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&m.push(a[r][0]),a[r]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);d&&d(e);while(m.length)m.shift()();return n.push.apply(n,l||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],s=!0,c=1;c<i.length;c++){var o=i[c];0!==a[o]&&(s=!1)}s&&(n.splice(e--,1),t=r(r.s=i[0]))}return t}var s={},a={app:0},n=[];function r(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=s,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(i,s,function(e){return t[e]}.bind(null,s));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/todo-list/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var d=o;n.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";i("85ec")},"0b35":function(t,e,i){},"0fe2":function(t,e,i){"use strict";i("1376")},1376:function(t,e,i){},"1c6a":function(t,e,i){"use strict";i("82f4")},"30f9":function(t,e,i){},"53cc":function(t,e,i){"use strict";i("30f9")},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var s=i("2b0e"),a=i("2f62"),n=i("b85c"),r=(i("7db0"),i("b0c0"),i("4de4"),{state:{lists:[{id:1,name:"Список с какими-то делами",count_tasks:3,is_completed:!1,is_closed:!1,created_at:"01.04.2021, 20:48",updated_at:"01.04.2021, 20:48",tasks:[{id:1,name:"Что-то сделать",list_id:1,executor_user_id:1,is_completed:!1,description:"description task",urgency:0,created_at:"01.02.2021, 20:48",updated_at:"01.02.2021, 20:48"},{id:2,name:"Что-то ещё сделать",list_id:1,executor_user_id:1,is_completed:!0,description:"description task",urgency:5,created_at:"01.03.2021, 20:48",updated_at:"01.03.2021, 20:48"},{id:3,name:"Что-то надо сделать",list_id:1,executor_user_id:1,is_completed:!1,description:"description task",urgency:5,created_at:"01.04.2021, 20:48",updated_at:"01.04.2021, 20:48"}]},{id:2,name:"Второй лист с разными делами",count_tasks:3,is_completed:!1,is_closed:!1,created_at:"01.05.2021, 20:48",updated_at:"01.05.2021, 20:48",tasks:[{id:1,name:"Что?",list_id:2,executor_user_id:1,is_completed:!1,description:"description task",urgency:0,created_at:"01.05.2021, 20:48",updated_at:"01.05.2021, 20:48"},{id:2,name:"Как?",list_id:2,executor_user_id:1,is_completed:!0,description:"description task",urgency:5,created_at:"01.05.2021, 20:48",updated_at:"01.05.2021, 20:48"},{id:3,name:"All work and no play makes Jack a dull boy. All work and no play makes Jack a dull boy. All work and no play makes Jack a dull boy.",list_id:2,executor_user_id:1,is_completed:!1,description:"description task",urgency:5,created_at:"01.05.2021, 20:48",updated_at:"01.05.2021, 20:48"}]},{id:3,name:"Третий лист",count_tasks:3,is_completed:!0,is_closed:!1,created_at:"01.05.2021, 20:48",updated_at:"01.05.2021, 20:48",tasks:[{id:1,name:"А как?",list_id:3,executor_user_id:1,is_completed:!0,description:"description task",urgency:3,created_at:"01.05.2021, 20:48",updated_at:"01.05.2021, 20:48"},{id:2,name:"А что?",list_id:3,executor_user_id:1,is_completed:!0,description:"description task",urgency:5,created_at:"01.05.2021, 20:48",updated_at:"01.05.2021, 20:48"},{id:3,name:"All work and no play makes Jack a dull boy. All work and no play makes Jack a dull boy. All work and no play makes Jack a dull boy.",list_id:3,executor_user_id:1,is_completed:!0,description:"description task",urgency:5,created_at:"01.05.2021, 20:48",updated_at:"01.05.2021, 20:48"}]}],activeListId:null,valueFilteredLists:"not-completed"},actions:{},mutations:{watcherForLists:function(t,e){if(e){var i=t.lists.find((function(t){return t.id==e.list_id}));i.count_tasks=i.tasks.length,i.updated_at=e.updated_at,i.is_completed=!1}},createList:function(t,e){t.lists.push(e),alert('Вы добавили список задач: "'.concat(e.name,'"'))},deleteList:function(t,e){confirm('Удалить список дел: "'.concat(e.name,'"'))&&(t.lists=t.lists.filter((function(t){return t.id!==e.id})))},setActiveList:function(t,e){t.activeListId=e},toggleTaskState:function(t,e){if(e.is_completed=!e.is_completed,e){var i=t.lists.find((function(t){return t.id==e.list_id})),s=i.tasks.find((function(t){return 0==t.is_completed}));if(s)return i.is_completed=!1;s||(i.is_completed=!0)}},deleteTask:function(t,e){var i=e.listId,s=e.taskId,a=e.taskName,n=t.lists.find((function(t){return t.id===i}));if(confirm('Удалить задачу: "'.concat(a,'"'))){n.tasks=n.tasks.filter((function(t){return t.id!==s}));var r=n.tasks.find((function(t){return 0==t.is_completed}));if(r)return n.is_completed=!1;r||(n.is_completed=!0)}},createTask:function(t,e){t.lists.find((function(t){return t.id==e.list_id})).tasks.push(e),alert('Вы добавили задачу: "'.concat(e.name,'"'))}},getters:{allLists:function(t){return t.lists},activeList:function(t){return t.lists.find((function(e){return e.id===t.activeListId}))},filteredLists:function(t){var e,i=Object(n["a"])(t.lists);try{for(i.s();!(e=i.n()).done;){var s=e.value;s.tasks.sort((function(t,e){return t.created_at>e.created_at?-1:t.created_at<e.created_at?1:0}))}}catch(a){i.e(a)}finally{i.f()}return"all"===t.valueFilteredLists?t.lists.sort((function(t,e){return t.name>e.name?1:t.name<e.name?-1:0})):"completed"===t.valueFilteredLists?t.lists.filter((function(t){return!0===t.is_completed})).sort((function(t,e){return t.name>e.name?1:t.name<e.name?-1:0})):"not-completed"===t.valueFilteredLists?t.lists.filter((function(t){return!1===t.is_completed})).sort((function(t,e){return t.name>e.name?1:t.name<e.name?-1:0})):void 0}}});s["a"].use(a["a"]);var c=new a["a"].Store({modules:{lists:r}}),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"container"},[i("FieldLists"),i("FieldTasks")],1)])},l=[],d=i("1da1"),u=(i("96cf"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"field-lists"},[i("div",{staticClass:"field-lists__filter"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"field-lists__filter-select",on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.filter=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"all"}},[t._v("Все")]),i("option",{attrs:{value:"not-completed"}},[t._v("Незавершенные")]),i("option",{attrs:{value:"completed"}},[t._v("Завершенные")])])]),i("ul",{staticClass:"field-lists__lists"},t._l(t.filteredLists,(function(e){return i("List",{key:e.id,staticClass:"field-lists__lists-item",attrs:{activeId:t.$store.state.lists.activeListId,list:e},on:{deleteList:t.deleteList,setActiveList:t.setActiveList}})})),1),i("FormAdd",t._b({staticClass:"field-lists__form",on:{addList:t.createdListForTasks}},"FormAdd",t.formAddDataToFieldLists,!1))],1)}),m=[],f=i("5530"),_=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"list"},[i("button",{class:["list__choose-btn",{"list__choose-btn_active":t.isActive},{"list_not-completed":t.stateNotCompletedList},{list_completed:t.stateCompletedList}],attrs:{type:"button"},on:{click:function(e){return t.$emit("setActiveList",t.list.id)}}},[t._v(" "+t._s(t.list.name)+" ")]),i("button",{staticClass:"list__delete-btn",on:{click:function(e){return t.$emit("deleteList",t.list)}}})])},p=[],k=(i("a9e3"),{props:{list:{type:Object,required:!0},activeId:{type:Number}},computed:{isActive:function(){return this.activeId===this.list.id},stateCompletedList:function(){return this.list.tasks.length&&this.list.is_completed},stateNotCompletedList:function(){return this.list.tasks.length}}}),h=k,b=(i("1c6a"),i("2877")),v=Object(b["a"])(h,_,p,!1,null,"5085fa10",null),y=v.exports,L=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.submitForm(e)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.formInputValue,expression:"formInputValue"}],staticClass:"form__input",attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.formInputValue},on:{input:function(e){e.target.composing||(t.formInputValue=e.target.value)}}}),t.checkboxName?i("fieldset",{staticClass:"form__fieldset-checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.formCheckboxChecked,expression:"formCheckboxChecked"}],staticClass:"form__checkbox",attrs:{id:"check",type:"checkbox"},domProps:{checked:Array.isArray(t.formCheckboxChecked)?t._i(t.formCheckboxChecked,null)>-1:t.formCheckboxChecked},on:{change:function(e){var i=t.formCheckboxChecked,s=e.target,a=!!s.checked;if(Array.isArray(i)){var n=null,r=t._i(i,n);s.checked?r<0&&(t.formCheckboxChecked=i.concat([n])):r>-1&&(t.formCheckboxChecked=i.slice(0,r).concat(i.slice(r+1)))}else t.formCheckboxChecked=a}}}),i("label",{attrs:{for:"check"}},[t._v(t._s(t.checkboxName))])]):t._e(),i("button",{staticClass:"form__btn",attrs:{type:"submit",disabled:!t.disableSubmit}},[t._v(t._s(t.buttonName))])])},g=[],C={props:{placeholder:String,buttonName:String,checkboxName:String,emitName:String},data:function(){return{formInputValue:"",formCheckboxChecked:!1}},computed:{disableSubmit:function(){return this.formInputValue}},methods:{submitForm:function(){this.$emit(this.emitName,this.formInputValue,this.formCheckboxChecked),this.formInputValue="",this.formCheckboxChecked=!1}}},x=C,w=(i("53cc"),Object(b["a"])(x,L,g,!1,null,"20d1fea6",null)),O=w.exports,j={components:{List:y,FormAdd:O},data:function(){return{formAddDataToFieldLists:{placeholder:"Введите название списка",buttonName:"Добавить Список",checkboxName:null,emitName:"addList"},filter:"not-completed"}},computed:Object(f["a"])({},Object(a["b"])(["allLists","filteredLists"])),methods:Object(f["a"])(Object(f["a"])({},Object(a["c"])(["deleteList","createList","setActiveList"])),{},{createdListForTasks:function(t){this.createList({name:t,id:this.$store.state.lists.lists.length+1,created_at:(new Date).toLocaleString("ru",{day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric"}),updated_at:(new Date).toLocaleString("ru",{day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric"}),count_tasks:0,tasks:[],is_closed:!1,is_completed:!1})}}),watch:{filter:function(t){this.$store.state.lists.valueFilteredLists=t}}},A=j,T=(i("e4bb"),Object(b["a"])(A,u,m,!1,null,null,null)),F=T.exports,N=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"field-tasks"},[i("h2",{staticClass:"field-tasks__title"},[t._v(t._s(t.activeList?t.activeList.name:"Список дел не выбран"))]),t.activeList?i("ul",{staticClass:"field-tasks__task-list"},t._l(t.activeList.tasks,(function(t){return i("Task",{key:t.id,attrs:{task:t}})})),1):t._e(),t.activeList?i("FormAdd",t._b({staticClass:"field-tasks__form",on:{addTask:t.addTask}},"FormAdd",t.formAddDataToFieldTasks,!1)):t._e()],1)},I=[],S=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"task"},[i("input",{staticClass:"task__checkbox",attrs:{type:"checkbox",id:t.task.id},domProps:{checked:t.task.is_completed},on:{change:function(e){return t.toggleTaskState(t.task)}}}),i("label",{class:["task__label",{task__label_type_urgency:t.task.urgency}],attrs:{for:t.task.id}},[i("div",{staticClass:"task__label-inner"},[i("span",{staticClass:"task__name"},[t._v(t._s(t.task.name))]),i("time",{staticClass:"task__time"},[t._v(t._s(t.task.created_at))])])]),i("button",{staticClass:"task__button-delete",attrs:{type:"button"},on:{click:function(e){return t.deleteTask({listId:t.task.list_id,taskId:t.task.id,taskName:t.task.name})}}})])},$=[],P={props:{task:Object},methods:Object(f["a"])({},Object(a["c"])(["toggleTaskState","deleteTask"]))},D=P,J=(i("7944"),Object(b["a"])(D,S,$,!1,null,"3852dac6",null)),V=J.exports,E={components:{FormAdd:O,Task:V},data:function(){return{formAddDataToFieldTasks:{placeholder:"Введите дело",checkboxName:"Срочно",buttonName:"Добавить дело",emitName:"addTask"}}},computed:Object(a["b"])(["activeList"]),methods:Object(f["a"])(Object(f["a"])({},Object(a["c"])(["createTask","watcherForLists"])),{},{addTask:function(t,e){var i={id:this.activeList.tasks.length+1,name:t,list_id:this.activeList.id,executor_user_id:1,is_completed:!1,description:"description task",urgency:e?5:0,created_at:(new Date).toLocaleString("ru",{day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric"}),updated_at:(new Date).toLocaleString("ru",{day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric"})};this.createTask(i),this.watcherForLists(i)}})},M=E,R=(i("0fe2"),Object(b["a"])(M,N,I,!1,null,"af0831c6",null)),q=R.exports,z={name:"App",components:{FieldLists:F,FieldTasks:q},mounted:function(){return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()}},B=z,G=(i("034f"),Object(b["a"])(B,o,l,!1,null,null,null)),H=G.exports;s["a"].config.productionTip=!1,new s["a"]({store:c,render:function(t){return t(H)}}).$mount("#app")},7944:function(t,e,i){"use strict";i("0b35")},"82f4":function(t,e,i){},"85ec":function(t,e,i){},c7be:function(t,e,i){},e4bb:function(t,e,i){"use strict";i("c7be")}});
//# sourceMappingURL=app.4ca932bb.js.map